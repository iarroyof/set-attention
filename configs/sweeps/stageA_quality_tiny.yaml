program: scripts/run_stageA_sweeps.py
parameters:
  output-dir: {value: out/smoke_stageA}
  cache-mode: {value: full}
  epochs: {value: 5}
  production: {value: true}
  wandb-project: {value: set-attention-test}

  lm-dataset: {value: wikitext2}
  lm-subset-path: {value: subsets/wikitext2_train_01pct.json}
  lm-precision: {value: fp32}
  lm-batch: {value: 4}
  lm-seq-len: {values: [128, 256]}
  lm-seq-stride: {value: 0}
  lm-window: {value: 32}
  lm-stride: {value: 16}
  lm-minhash-k: {value: 32}
  lm-router-topk: {value: 2}

  seq-dataset: {value: wmt16_en_ro}
  seq-subset-path: {value: subsets/wmt16_en_ro_train_1pct.json}
  seq-precision: {value: fp32}
  seq-batch: {value: 8}
  seq-max-len: {values: [64, 128]}
  seq-tokenizer-type: {value: whitespace}
  seq-window: {value: 32}
  seq-stride: {value: 16}
  seq-minhash-k: {value: 32}
  seq-router-topk: {value: 2}

  textdiff-dataset: {value: wikitext2}
  textdiff-subset-path: {value: subsets/wikitext2_train_01pct.json}
  textdiff-precision: {value: fp32}
  textdiff-batch: {value: 16}
  textdiff-seq-len: {values: [128, 256]}
  textdiff-stride: {value: 128}
  textdiff-window: {value: 32}
  textdiff-bank-stride: {value: 16}
  textdiff-minhash-k: {value: 32}
  textdiff-router-topk: {value: 2}

  vit-precision: {value: fp32}
  vit-batch: {value: 64}
  vit-window: {values: [4, 8]}
  vit-stride: {values: [2, 4]}
  vit-minhash-k: {values: [32, 64]}
  vit-router-topk: {value: 0}
  vit-subset-path: {value: subsets/cifar10_train_1pct.json}
